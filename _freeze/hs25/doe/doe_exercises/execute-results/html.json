{
  "hash": "a06c306fa5f46627657917051bb6555f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Design of Experiments - Exercises\nauthor: Nils Rechberger\ntoc: true\n---\n\n\n\n\n# Tasks for Exercise 01: Introduction\n\n## Task 01\n\nSir Austin Bradford Hill, called Tony Hill, (* July 8, 1897 in London; † April 18, 1991) was a\nBritish epidemiologist, statistician and pioneer of clinical trials. Together with Richard Doll, he\nwas the first to establish a relation between smoking and lung cancer.\nIn 1948, Hill published the results of a study1 he had conducted on the treatment of tuberculosis\nwith the antibiotic streptomycin.\nHave a look at Table II from the publication and discuss a possible research design that Hill\nmay have chosen and the results of the study.\n\n![Study Table](img/doe_ex01_studyTable.png)\n\n### Answer\n\nBradford and Doll may have used an experimental study design with randomization and Blinding to ensure the most authentic results.\n\n## Task 02\n\nConfounding means that a factor (confounder) that is not directly investigated is associated with\nboth the independent variable and the dependent variable and accordingly causes the\nrelationship between the two variables (Spurious Correlation).\nGiven the definition above, interpret the following three statements\n\n### Answer\n\n- The more firefighters fight a fire, the greater is the damage: We look at this statement in the wrong direction. The greater the damage (caused by a big fire), the more fire fighter are necessary to extinguish a fire.\n\n- The fewer storks nest in an area, the lower the human birth rate is in that area: No, smaller areas provide less space for humans and storks, which can cause fewer stork nests and lower birth rate\n\n- The more books a family owns, the better the children are able to read: Maybe, but it's manly cause by the level of education instead of the number of book. Educated families are more likely to own more books than less educated families.\n\n# Tasks for Exercise 02: Principles\n\n## Task 01\n\nWhich study design would you choose?\n\n### Description of the study – summary\n\nResearch question: Which title for the quarterly newsletter for current customers (made at least\none purchase) will increase the open rate?\nThere are three versions for the newsletter: The current title, a title that announces a competi-\ntion, and a title that announces a gift. The mailing list has approx. 12,000 customer names.\n\n#### Answer\n\nWe are going to run a experimnet. We can allocaed the suer randomly. So we use a A/B test, RCT with 3 versions.\n\n### Description of the study – summary\n\nIn an article the newspaper «Blick» wants to know how its readers are doing.\nReaders interested in the question can access this page with one click\n\n#### Answer\n\nWe run an observation. Without group comparison. So we use a Descriptive Study -> Survey Study.\n\n### Description of the study – summary\n\nSwisscom is updating its «TV Air» browser for laptops and desktops. Three weeks after the\nrelease, it evaluates the user responses by the «community». The responses are divided into\n«satisfied users» and «unsatisfied users.» Their profiles make it possible to extract the following\ninformation, among other things: Browser type, operating system, download speed.\n\n#### Answer\n\nWe run an observation. In this cas with group comparison. So we use a Analytical Study -> Case Study.\n\n## Task 02\n\nA study will be conducted to answer these research questions:\n\n- Do different language learning media affect the intensity of situational interest of two-year-old children?\n- How do different language learning media affect vocabulary growth?\n- Does adult company while using language learning media have an impact on vocabulary growth?\n\nThese two language learning media are in focus:\n\n- App for learning vocabulary\n- Viewing of picture cards\n\nWhich study type would you choose?\nIn which areas of empirical research would you situate the study?\n\n### Answer\n\nTo answer the research questions, we will run an experiment. We randomly allocated the users to the different learning media. So we run randomized controlled (suitable for hypothesis testing).\n\n# Tasks for Exercise 03: Introduction to Design of Experiments (DoE)\n\n## Task 01\n\nA study on sustainable development focuses on measuring climate data at a specific location.\nAmong other things, the daytime temperature on a winter day is recorded over a period of 24\n\n![Daytime Temp](img/doe_task3_temp.png)\n\nTwo independent research teams, A and B, conduct temperature measurements.\nIn retrospect, it turns out that the thermometers were defective:\nTeam A: Thermometer always measures 6° C, regardless of actual temperature.\nTeam B: Thermometer consistently measures 2° C too high.\nThe research teams do not know that the thermometers are defective.\nWhich research team delivers the \"better\" measurement results?\n\n### Answer\n\nOn the one hand, we could argue that Team B delivers 'better' results than Team A, as Team B can still identify a global pattern in their data. Conversely, Team A's results would produce a straight line in the plot, indicating a measurement error. Team A would be much more likely to detect the error than Team B.\n\n## Task 02\n\nShow how variance can be maximized, controlled and minimized in the following\ndescriptions of studies.\nFirst determine the relevant variables:\n\n- Dependent variable (DV)\n- Central independent variable(s) (IV)\n- Nuisance variables\n\n### Description of the study – Summary\nResearch question: What title for a quarterly newsletter to existing customers (who have made\nat least one purchase) will increase the open rate?\nThere are three title variations: The current title, a title that announces a competition, and a title\nthat announces a gift. The mailing list has approx. 12,000 customer names.\n\n#### Answer\n\n- How can primary variance be maximized?: Use 3 distinct title variations.\n- How can secondary variance be controlled?: Random allocate the customers to the the variants.\n- How can error variance be minimized?: Use all possible customers.\n\n### Description of the study – Summary\nResearch question: Can tuberculosis be cured by treating patients with the antibiotic streptomycin?\nTwo groups of patients are planned: Treated (Streptomycin) vs. Control (No treatment).\nThe total sample size includes 100 patients\n\n\n### Answer\n\n- How can primary variance be maximized?: The two manifestations of the central independent variable maximize \"automatically\" the primary variance as much as possible, since they are predetermined.\n- How can secondary variance be controlled?: Random allocate the patients to one of the groups.\n- How can error variance be minimized?: Increase the sample size\n\n# Tasks for Exercise 04: Properties of DoE\n\n## Task 01\n\nCompare the descriptions and the advantages and disadvantages of the following DoE types.\n\n### Answer\n\n#### Trial and error\n\n- Description: Combination of parameters have no structure and are mixed randomly.\n- Advantages: Easy to implement und run.\n- Disadvantages: No idea what factors influence how.\n\n#### One-factor-at-a-time (OFAT)\n\n- Description: Vary the first factor and then measure fuel consumption. Keep the setting with the lowest consumption and then vary the next factor.\n- Advantages: Easy to implement and run\n- Disadvantages: Interaction between factors are not recognized. Research question is answered neither systematically nor exhaustively.\n\n#### Full factorial design – e.g. 2k factorial design\n\n- Description: Two levels (+/-) are defined per factor. All possible combinations of factor levels are varied. \n- Advantages: All main effects and all interactions can be determined. Can be used as a screening experiment to identify potentially important variables. \n- Disadvantages: he effort involved increases rapidly as the number of factors increases. Each additional factor doubles the number of combinations.\n\n## Task 02\n\nDevelop two experiments, A and B, with these features\n\n- Experiment A → External and internal validity are both minimal\n- Experiment B → External and internal validity are both maximal\n\nExplain your choice.\n\n### Answer\n\n#### Experiment A\n\n- Description: Exists when changes in dependent variables (DV) are attributed to independent variables (IV). Increases with decreasing impact of nuisance variables.\n- Explanation: Laboratory Study\n\n#### Experiment B\n\n- Description: Exists when experimental results from a sample can be generalized to the entire population. Increases with increasing naturalness.\n- Explanation: Field Study\n\n# Tasks for Exercise 05: Sampling\n\n## Task 01\nYou want to conduct a survey that involves all residents of the city of Zurich.\nDiscuss the criteria you would choose in order to define the population\n\n### Answer\n\n1. In terms of geographical aspects: Only involving all residents of the **city of Zurich**.\n2. In terms of temporal aspects: Only **residents** of the city of Zurich (e. g. no guests)\n3. In terms of factual / content-related aspects: What happens to those who live in collective households?\n\n## Task 02\n\nEvaluate the effect of the following sampling restrictions on the type of sampling error\n\n1. Non-sampling error\n2. Sampling error\n3. Variability of sample means\n\n### Answer\n\n1. You are using an incorrect equation to calculate the mean -> **Sampling error**\n2. You are conducting a survey with a sample of n = 5 -> **Sampling error**\n3. You take an online survey on cosmetic products and ask, among others, about the age of the interviewee at the beginning of the questionnaire. -> **Non-sampling error**\n4. You conduct a telephone survey for a lifestyle product 20% of the 20 to 39-year-olds can no longer be reached via landline phone. -> **Sampling error**\n5. The city of Zurich is conducting a study on the topic of sustainability. Attitudes towards sustainability are also surveyed in a neighborhood with high unemployment, poverty, a high proportion of illegal migrants, etc. -> **Non-sampling error**\n6. A local television station conducts a telephone survey during the evening news, which is only announced in this broadcast. -> **Variability of sample means**\n\n## Task 03\n\nGiven is an address list address.csv\nUse R to draw a simple random sample with n = 50 elements from this data set.\nInsert also the R-code, the R-output and if necessary, R-plots in your answer.\n\n```r\nlibrary(readr)\ndata <- read_csv(\"address.csv\")\ndata_sample <- sample(data, 50, replace=FALSE) # Take 50 random sample from data\nView(data_sample)\n```\n\n# Tasks for Exercise 06: Effect size & Power analysis\n\n## Task 01\n\nFor a research project the sample size is to be determined.\nIn an experiment a new teaching method is to be tested against the old teaching method.\nThe variable to be measured is the grade point average in the final exam.\nThe project has the following characteristics\n\n- Randomized controlled trial (RCT): Compare the new teaching method against the old one\n- Analysis with t-test\n- Significance level = $5\\%$\n- Cohen: Level of = $20%$ → Power = $1- \\beta$ = $80%$\n\nImportant difference\n\n- From empirical studies, expert interviews, and based on theoretical considerations, a difference of one grade unit is considered to be important.\n\nOther measurements\n- Validated studies have shown that the standard deviation of exam grades in a comparable population has the value $\\sigma_0 = 1.5$ grade units.\n\nProcedure\n\nFirst step\nDetermine effect size d that is relevant for the study.\n\nSecond step\nHow large does the total sample have to be for\n- significance level = 5%\n- power = 80%\n- effect size d relevant for the study\n\nto obtain a significant t-test if the change in the grade at the final exam is in fact one grade or more?\nUse G*Power to calculate the sample size.\n\n### Answer\n\n#### Effect Size\n\n$$\n\\hat{d} = \\dfrac{|\\bar{x}_\\text{new} - \\bar{x}_\\text{current}|}{\\sigma_0} = \\dfrac{1.0}{1.5} = 0.67\n$$\n\n\n## Task 02\n\nThe task is the same as Task 01.\nUse R to determine the sample size.\nDescribe the results – insert also the R-code, the R-output and if necessary, R-plots\n\n### Answer\n\n```r\nlibrary(pwr)\n\nalpha <- 0.05\nbeta <- 0.2\npower <- 1 - beta\nmean <- 1.0\nsigma <- 1.5\nd <- mean/sigma\n\npwr.t.test(d = d, power = power, sig.level = alpha)\n# n = 36.3 -> 72.6\n```\n\n## Task 03\n\nThe results of an RCT study are to be evaluated with an analysis of variance (ANOVA).\nA fictitious study on the effects of memory training serves as an example.\n\n- Dependent variable (DV): Assessment of the memory capacity on a scale of 1 to 100.\n- Independent variable (IV): Memory training received \"Yes\" or \"No\".\nHow large must the total sample be for\n\n- significance level $\\alpha$ = 5%\n- power = 80%\n- effect size medium\n\nto obtain a significant analysis of variance?\nThe f-value for the effect size can be found in Cohen (1992) in Table 1 – see below.\nDescribe the results – insert also the R-code, the R-output and if necessary, R-plots.\n\n### Answer\n\n```r\nlibrary(pwr)\n\nalpha <- 0.05\nbeta <- 0.2\npower <- 1 - beta\nd <- 0.5 # From table\n\npwr.anova.test(f = 0.25, k = 2, power = power, sig.level = alpha)\n# n = 63.8 -> 127.6\n```\n\n# Tasks for Exercise 08: A/B Testing\n\n## Task 01\n\nWhat are the characteristics of \"classical\" A/B testing procedures and of the dynamic-algorithmic\nprocedure?\nPlease use one example for the \"classical\" A/B testing and one for a dynamic-algorithmic procedure and describe the advantages and disadvantages for each.\n\n### Answer\n\n#### Classical A/B-Testing\n\nA/B testing is an experiment. The research questions are applied to two (A/B) or more randomized groups. The statistical analysis\nis done by t-test, ANOVA and more advanced methods. Example: The aim is to determine which version achieves a better result, in terms of click-through rate etc. Two versions A and B are tested in parallel in a live environment. The generated data becomes the basis for decisions.\n\nA/B testing ist simple to implement/run but cannot be used in all research questions. Example: For a complete website redesign (further elements have to be included). Population is unknown, sampling procedure is not suitable, sampling bias, ect. Dark / deceptive patterns are patterns of persuasion and influence. They may increase short-term gains for the provider but can harm brand image, user experience, and customer satisfaction.\n\n#### Dynamic-Algorithmic\n\nSeveral variants (treatments A, B, C, …) are run in parallel. The variant with the highest “success” (according to metrics) get\nmore data traffic. Other variants are refined and tested with proportionally less traffic. Traffic allocation is continuously adjusted\nbased on the observed success. As the test progresses, more and more information about the performance of the variants becomes\navailable, so that the most successful variant can be identified dynamically. Th dynamic version is harder to implement and needs to run long enough.\n\n# Task 02\n\nA multivariate test for a website was carried out.\nThe test measured the average click rate (number of clicks on advertising banners) on a website.\nHow do the design variants (factor IV1) affect the click rate (DV)?\n\n- DV = click rate [s] → output with metric scaling\n- IV1 = design variants [1,2,3] → factor with 3 levels\n\nUse a univariate ANOVA to answer the question.\nDescribe the results – insert also the R-code, the R-output and if necessary, R-plots.\nData set: clickrate.xlsx → ILIAS → \"Data Resources & R Files\"\n\n## Answer\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(\"readxl\")\nlibrary(readxl)\ndata <- read_excel(path=\"/home/nils/dev/mscids-notes/hs25/doe/data/clickrate.xlsx\")\noneway.test(DV ~ factor(IV1), var.equal=TRUE, data=data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tOne-way analysis of means\n\ndata:  DV and factor(IV1)\nF = 77.928, num df = 2, denom df = 2301, p-value < 2.2e-16\n```\n\n\n:::\n\n```{.r .cell-code}\nfit <- aov(DV ~ factor(IV1), data=data)\nsummary(fit, intercept=TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n              Df  Sum Sq Mean Sq  F value Pr(>F)    \n(Intercept)    1 3509768 3509768 41265.38 <2e-16 ***\nfactor(IV1)    2   13256    6628    77.93 <2e-16 ***\nResiduals   2301  195708      85                    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n\n\n:::\n:::\n\n\n\n\n# Tasks for Exercise 09: Factorial Designs\n\n## Task 01\n\nThere are full factorial and fractional factorial designs.\nPlease give one example of a full factorial design and one example of a fractional factorial design and explain the advantages and disadvantages of each.\n\n### Answer\n\n#### Full Factorial\n\nA full factorial design tests every possible combination of all factor levels. Easy to implement/run but resources intensive when increasing the factors size.\n\n#### Fractional Factorial\n\nThe more factors and the more characteristics, the larger the number of groups. Provided that there are no interactions, the\nexperiment can also be conducted successfully with a reduced number of groups. By using Latin squares or related designs, the\nnumber of groups required can be significantly reduced compared to full factorial designs.\n\n## Task 02\n\nIn the appendix of the lecture notes you will find details of a research project:\nFirst, read through all the 3 slides in the appendix.\nUse R to create the missing Latin square on Slide 28 and interpret its output.\nUse R to replicate the ANOVA shown on Slide 29 and interpret its output.\nUse key words to interpret the Latin square and the ANOVA.\n\n### Answer\n\n#### Latin Square\n\n```r\ninstall.packages(\"agricolae\")\nlibrary(agricolae)\nmy_design_lsd <- design.lsd(trt = c(\"c1\",\"c2\",\"c3\"))\nmy_design_lsd$sketch\n```\n\nThe column names of the Latin square ([,1] [,2] [,3]) correspond to the levels of factor A.\nThe row names of the Latin square ([1,] [2,] [3,]) correspond to the levels of factor B.\nThe content in the cells of the Latin square (\"c1\", \"c2\", \"c3\") correspond to the levels of factor C\nWe can reduce the combination of experiments from 27 (Full Factorial) to 9 (Fractional Factorial).\n\n#### ANOVA\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\n\ndwelltime_Latin <- read_excel(\"/home/nils/dev/mscids-notes/hs25/doe/data/dwelltime_latin.xlsx\")\nView(dwelltime_Latin)\n\nfit <- aov(DV ~ factor(A) + factor(B) + factor(C), data = dwelltime_Latin)\nsummary(fit)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n               Df Sum Sq Mean Sq F value Pr(>F)    \nfactor(A)       2  76057   38028 465.761 <2e-16 ***\nfactor(B)       2  27159   13580 166.320 <2e-16 ***\nfactor(C)       2    552     276   3.383  0.034 *  \nResiduals   10338 844075      82                   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n\n\n:::\n:::\n\n\n\n\nThere is a main effect on A, B and C. Even with p = .034 the factor C is relatively close to the significance limit of p = .050.\n\n# Tasks for Exercise 10: Large Data Quantities\n\n## Task 1\n\nThere is a distinction between made data and found data.\nDevelop examples and explain your choices based on the distinction made data vs. found data.\nEstimate the size and complexity of the data set (e.g. number of variables, sub-populations).\n\n### Answer\n\n- Made data → Data is generated by researchers (“made”). \n- Found data → Data are obtained administratively and technically (“found”)\n\n## Task 2\n\nWhen considering administrative data sets, it is necessary to take into account the proportion:\n\n$$\nf = \\dfrac{n}{N}\n$$\n\nProportion of sample size of the administrative dataset in the population\nDevelop three typical examples that differ significantly in terms of their $f$ proportion.\n\n### Answer\n\n#### Small $f$\n\n$$\nf = \\dfrac{100}{8000000}\n$$\n\nDo a survey and ask 100 random people in Switzerland.\n\n#### Medium $f$\n\n$$\nf = \\dfrac{1500}{3000}\n$$\n\nDo a survey and ask the half of all students at HSLU.\n\n#### Large $f$\n\n$$\nf = \\dfrac{90}{100}\n$$\n\nDo a survey and ask 90 of the top 100 clients of a KMU.\n\n# Tasks for Exercise 11: Experiments in Social Media\n\n## Task 01\n\nAssume you are given this research question:\nIn a month's time, the Swiss will elect a new National Council (parliament).\nThe 200 party seats of the parliament are currently distributed as follows:\nSVP 25.6% / Greens 21.0% / SP 16.8% / FDP 15.1% / CVP 11.4% / BDP 2.4% / Other 7.6%\nWhat proportions can be expected in the election of the new National Council?\nThe research question is to be answered with data obtained from social media.\nWork through the following steps to design a study to answer\nthe research question:\n- Choose the design\n- Define the population\n- Reflect on population bias\n- Determine the procedure for sampling / data collection\n- Implement the study\n- What else do you need to consider?\n\nCreate a presentation for a professional audience and explain your approach and thoughts.\nThe main goal is to start a discussion.\n\n### Answer\n\n- Choose the design: Survey\n- Define the population: SoMe User over 18 with premission to vote.\n- Reflect on population bias: We can controll the actual age or nationality of the users.\n- Determine the procedure for sampling / data collection: Survey tools.\n- Implement the study: Run a survey by a given tool.\n- What else do you need to consider?: Older voters may be excluded since mostly young people use SoMe.",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}